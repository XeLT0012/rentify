<div class="sidebar">
  <h3>User Dashboard</h3>
  <ul>
    <li><a routerLink="/dashboard">Home</a></li>
    <li><a routerLink="/listings">My Listings</a></li>
    <li><a routerLink="/add-listing">Add Listing</a></li>
    <li><a routerLink="/profile">Profile</a></li>
    <li><a routerLink="/bookings">ðŸ“‘ My Bookings</a></li>
    <li><a (click)="logout()">Logout</a></li>
  </ul>
</div>

<div class="booking-page" *ngIf="listing">
  <h2>Book: {{ listing.title }}</h2>
  <img [src]="'http://localhost:5000' + listing.images[0]" alt="Listing image">

  <form>
    <label>Start Date</label>
    <input type="date" [(ngModel)]="startDate" name="startDate"
           [min]="listing.availableFrom | date:'yyyy-MM-dd'"
           [max]="listing.availableUntil | date:'yyyy-MM-dd'">

    <label>End Date</label>
    <input type="date" [(ngModel)]="endDate" name="endDate"
           [min]="listing.availableFrom | date:'yyyy-MM-dd'"
           [max]="listing.availableUntil | date:'yyyy-MM-dd'">

    <label>Notes (optional)</label>
    <textarea [(ngModel)]="notes" name="notes"></textarea>

    <p><strong>Total Price (incl. fee/discount):</strong> â‚¹{{ totalPrice }}</p>

    <div class="actions">
      <button type="button" (click)="confirmBooking()">Confirm Booking</button>
      <a routerLink="/dashboard" class="cancel">Cancel</a>
    </div>
  </form>
</div>
